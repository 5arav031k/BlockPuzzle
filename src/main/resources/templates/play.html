<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/css/play.css"/>
        <link rel="stylesheet" href="/css/index.css"/>
        <title>BlockPuzzle</title>
    </head>
    <body>
        <div class="game">
            <div class="background">
                <div class="desk">
                    <form action="/block_puzzle/play/hideOrSelectShape" method="post">
                        <table id="field">
                            <tbody th:utext="${htmlField}"></tbody>
                        </table>
                    </form>
                    <form action="/block_puzzle/play/placeShapeOnField" method="post">
                        <table id="shapes">
                            <tbody th:utext="${htmlShapes}"></tbody>
                        </table>
                    </form>
                    <!--/*@thymesVar id="blockPuzzleController" type="sk.tuke.gamestudio.server.controller.BlockPuzzleController"*/-->
                    <button type="button" onclick="location.href='/block_puzzle/level_menu'" th:if="${isSolved}">
                        <img class="next-level-button" src="/images/next-level.png">
                    </button>
                    <script>
                        document.addEventListener("keydown", function(event) {
                            if (/^[wasd]$/i.test(event.key)) {
                                window.open('/block_puzzle/play/moveShape/'+event.key.toUpperCase(), '_self');
                            }
                        });
                    </script>
                </div>
            </div>
        </div>
    </body>
</html>